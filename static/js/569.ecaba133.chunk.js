"use strict";(self.webpackChunkreact_1=self.webpackChunkreact_1||[]).push([[569],{235:(s,e,t)=>{t.d(e,{H:()=>a});var i=t(43),l=t(3),o=t(216),r=t(579);let n=s=>({isAuth:s.auth.isAuth});const a=s=>{class e extends i.Component{render(){return this.props.isAuth?(0,r.jsx)(s,{...this.props}):(0,r.jsx)(o.C5,{to:"/login"})}}return(0,l.Ng)(n)(e)}},569:(s,e,t)=>{t.r(e),t.d(e,{default:()=>L});var i=t(43),l=t(3),o=t(216),r=t(923),n=t(235),a=t(206),d=t(589),c=t(619),u=t(892),j=t(545);const h="FormControls_formcontrol__1RIK4",x="FormControls_error__xula6";var p=t(579);const m=s=>{let{field:e,form:{touched:t,errors:i},...l}=s;const o=t[e.name]&&i[e.name];return(0,p.jsxs)("div",{className:h+" "+(o?x:""),children:[(0,p.jsx)("div",{children:(0,p.jsx)("input",{...e,...l})}),o&&(0,p.jsx)("span",{children:i[e.name]})]})},v=function(s,e,t,i){let l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,p.jsxs)("div",{children:[(0,p.jsx)(u.D0,{placeholder:s,name:e,component:i,validate:t,...l}),o]})},b="ProfileInfo_description__3wtAW",f="ProfileInfo_img__DiUD6",g="ProfileInfo_mainphoto__HyBIw",P="ProfileInfo_contact__n1ktI",k="ProfileInfo_error__xPkp3",_=s=>{let{profile:e,onSubmit:t}=s;const i={fullName:(null===e||void 0===e?void 0:e.fullName)||"",lookingForAJob:(null===e||void 0===e?void 0:e.lookingForAJob)||!1,lookingForAJobDescription:(null===e||void 0===e?void 0:e.lookingForAJobDescription)||"",aboutMe:(null===e||void 0===e?void 0:e.aboutMe)||"",contacts:(null===e||void 0===e?void 0:e.contacts)||""};return(0,p.jsx)(u.l1,{initialValues:i,onSubmit:t,validationSchema:j.ds,children:s=>{let{values:t}=s;return(0,p.jsxs)(u.lV,{children:[(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u0418\u043c\u044f: "}),v("Full name","fullName",[],m)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: "})," ",t.lookingForAJob?"yes":"no",v("","lookingForAJob",[],m,{type:"checkbox"})]}),t.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "}),v("\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438","lookingForAJobDescription",[],m)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),v("\u041e\u0431\u043e \u043c\u043d\u0435","aboutMe",[],m)]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "})," ",Object.keys(e.contacts).map((s=>(0,p.jsxs)("div",{className:P,children:[(0,p.jsxs)("b",{children:[s,": ",v(s,"contacts."+s,[],m)]}),(0,p.jsx)(u.Kw,{name:"contacts.".concat(s),component:"div",className:k})]},s)))]})]})}})},y=s=>{let[e,t]=(0,i.useState)(!1),[l,o]=(0,i.useState)(s.status);(0,i.useEffect)((()=>{o(s.status)}),[s.status]);return(0,p.jsxs)("div",{children:[!e&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"Status: "}),(0,p.jsx)("span",{onDoubleClick:()=>{t(!0)},children:s.status||"--------"})]}),e&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:s=>{o(s.currentTarget.value)},autoFocus:!0,onBlur:()=>{t(!1),s.updatestatus(l)},value:l})})]})},w=s=>{let{profile:e,isOwner:t,goToEditMode:i}=s;return(0,p.jsxs)("div",{children:[t&&(0,p.jsx)("div",{children:(0,p.jsx)("button",{onClick:i,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u0418\u043c\u044f: "}),e.fullName]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: "}),e.lookingForAJob?"yes":"no"]}),e.lookingForAJob&&(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "}),":",e.lookingForAJobDescription]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: "}),e.aboutMe]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: "})," ",Object.keys(e.contacts).map((s=>(0,p.jsx)(A,{contactTitle:s,contactValue:e.contacts[s]},s)))]})]})},A=s=>{let{contactTitle:e,contactValue:t}=s;return(0,p.jsxs)("div",{className:P,children:[(0,p.jsx)("b",{children:e}),": ",t]})},F=s=>{let{profile:e,status:t,updatestatus:l,isOwner:o,savePhoto:r,saveProfile:n}=s,[a,u]=(0,i.useState)(!1);if(!e)return(0,p.jsx)(c.A,{});return(0,p.jsxs)("div",{children:[(0,p.jsx)("div",{className:f,children:(0,p.jsx)("img",{src:"https://img.freepik.com/premium-photo/blue-pattern-panorama-banner-background_7954-22619.jpg"})}),(0,p.jsxs)("div",{className:b,children:[(0,p.jsx)("img",{src:e.photos.large||d,className:g}),(0,p.jsx)("div",{children:o&&(0,p.jsx)("input",{type:"file",onChange:s=>{s.target.files[0]&&r(s.target.files[0])}})}),a?(0,p.jsx)(_,{initialValues:e,profile:e,onSubmit:s=>{n(s),u(!1)}}):(0,p.jsx)(w,{goToEditMode:()=>{u(!0)},profile:e,isOwner:o}),(0,p.jsx)(y,{status:t,updatestatus:l})]})]})},N="MyPosts_postBlocs__5OD-d",Y="MyPosts_posts__TF7nH",S="Post_item__ITIzK",V=s=>(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("img",{src:"https://cs14.pikabu.ru/post_img/big/2023/02/13/8/1676296367166243426.png"}),s.message,(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{children:"like"})," ",s.likeCount,(0,p.jsx)("span",{children:" dislike"})," ",s.disCount]})]});let C=s=>(0,p.jsx)(u.l1,{initialValues:{newPostText:""},onSubmit:(e,t)=>{let{resetForm:i}=t;(e=>{s.addPost(e)})(e.newPostText),i({values:""})},children:()=>(0,p.jsxs)(u.lV,{children:[(0,p.jsx)("div",{children:(0,p.jsx)(u.D0,{name:"newPostText",as:"textarea"})}),(0,p.jsx)("div",{children:(0,p.jsx)("button",{type:"submit",children:"AddPost"})})]})});const I=s=>{let e=s.Posts.map((s=>(0,p.jsx)(V,{message:s.message,likeCount:s.likeCount,disCount:s.disCount},s.id)));return(0,p.jsxs)("div",{className:N,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)("div",{children:(0,p.jsx)(C,{addPost:s.addPost})}),(0,p.jsx)("div",{className:Y,children:e})]})},T=(0,l.Ng)((s=>({Posts:s.profilePage.Posts,newPostText:s.profilePage.newPostText})),(s=>({addPost:e=>{s((0,a.oL)(e))}})))(I),J=s=>(0,p.jsxs)("div",{children:[(0,p.jsx)(F,{profile:s.profile,status:s.status,updatestatus:s.updatestatus,isOwner:s.isOwner,savePhoto:s.savePhoto,saveProfile:s.saveProfile}),(0,p.jsx)(T,{})]});const L=(0,r.Zz)(n.H,(0,l.Ng)((s=>({profile:s.profilePage.profile,status:s.profilePage.status,isOwner:s.auth.userId})),{getUserProfile:a.VM,getstatus:a.v1,updatestatus:a.aV,savePhoto:a.Ah,saveProfile:a.Lt}))((function(s){let{userId:e}=(0,o.g)();return e||(e=31422),(0,i.useEffect)((()=>{s.getUserProfile(e),s.getstatus(e)}),[e]),(0,p.jsx)("div",{children:(0,p.jsx)(J,{profile:s.profile,status:s.status,updatestatus:s.updatestatus,isOwner:31422===e,savePhoto:s.savePhoto,saveProfile:s.saveProfile})})}))},545:(s,e,t)=>{t.d(e,{ds:()=>r,eX:()=>o,ni:()=>l});var i=t(899);const l=i.Ik().shape({email:i.Yj().required("Field is required"),password:i.Yj().required("Field is required").max(20,"Nice try, nobody has a first name that long").min(2,"Must be longer than 2 characters")}),o=s=>{const e={};return s.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(s.email)||(e.email="Invalid email address"):e.email="Field is required",s.password?(s.password.length<2||s.password.length>20)&&(e.password="Password must be between 2 and 20 characters"):e.password="Field is required",e},r=i.Ik({contacts:i.Ik().shape({facebook:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),website:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),vk:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),twitter:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),instagram:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),youtube:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),github:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s))),mainLink:i.Yj().nullable().test("is-url-or-empty","\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 URL",(s=>!s||i.Yj().url().isValidSync(s)))})})},589:(s,e,t)=>{s.exports=t.p+"static/media/ava.7fdc4cb7e22d0927340b.jpg"}}]);
//# sourceMappingURL=569.ecaba133.chunk.js.map